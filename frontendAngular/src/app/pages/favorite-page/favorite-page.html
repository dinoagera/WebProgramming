<app-navbar></app-navbar>

<div class="favorites-page">
  <!-- Загрузка -->
  <div *ngIf="loading" class="loading-indicator">Загрузка избранного...</div>

  <!-- Ошибка -->
  <div *ngIf="error && !loading" class="error">{{ error }}</div>

  <!-- Данные успешно загружены -->
  <div *ngIf="!loading && !error">
    <div *ngIf="favorites.length > 0">
      <div class="favorites-header">
        <h1>ИЗБРАННОЕ / {{ favorites.length }} ТОВАР(ОВ)</h1>
      </div>

      <div class="favorites-content">
        <div class="favorites-items">
          <div *ngFor="let item of favorites" class="favorite-item">
            <!-- Изображение -->
            <div class="product-image-section">
              <div class="main-image-placeholder">
                <img
                  [src]="item.image_url | imgUrlulu"
                  [alt]="item.category + ' в цвете ' + item.color"
                  class="main-product-image"
                />
              </div>
            </div>

            <!-- Информация -->
            <div class="item-details">
              <p class="item-category">{{ item.category }}</p>
              <div class="item-price">{{ item.price }} ₽</div>
              <p>Цвет: {{ item.color }}</p>
              <p>Тег: {{ item.tag }}</p>
            </div>

            <!-- Кнопка удаления -->
            <div class="item-actions">
              <button class="btn-remove" (click)="removeFromFavorites(item.product_id)">
                Удалить из избранного
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Пустое избранное -->
    <div *ngIf="favorites.length === 0" class="empty-favorites">
      В избранном пока ничего нет.
    </div>
  </div>
</div>

<app-footer></app-footer>